# UI State 조건

## 시간이 지나도 변하지 않나요?

그렇다면, 확실히 `state`가 아니다.

## 부모로부터 props를 통해 전달되나요?

확실히 `state`가 아니다.

## 컴포넌트 안의 다른 state, props를 갖고 계산이 가능한가요?

그렇다면 **절대로** `state`가 아니다.

---

## Props와 State 차이

둘 모두 데이터 "모델"이다. <br />

### Props

- 함수를 통해 전달되는 인자와 같은 성격을 가진다. <br />
- 부모 컴포넌트로부터 자식 컴포너늩로 데이터를 넘겨서 외관을 커스터마이징하게 해준다. <br />
- 예를 들어, `Form`은 color라는 props을 `Button`으로 보내, 내가 원하는 형태로 바꿀 수 있다.

### State

- 컴포넌트의 메모리 같은 성격을 가진다. <br />
- 컴포넌트가 몇몇 정보를 계속 따라갈 수 있게 해주고, 변화하면서 상호작용을 만든다. <br />
- 예를 들어, `Button`은 `isHovered`라는 state를 따라가는 것처럼 말이다.

`props`와 `state`는 다르지만, 함께 동작한다. <br />
`state`는 보통 부모 컴포넌트에 저장된다. <br />
그래서 부모 컴포넌트는 `state`를 변경할 수 있다. <br />
그리고 부모 컴포넌트는 `state`를 자식 컴포넌트에 `props`로서 전달한다.

---

## State가 있어야 할 위치 정하기

1. 해당 `state`를 기반으로 렌더링하는 모든 컴포넌트를 찾아라. <br />
2. 그들의 가장 가까운 공통되는 부모 컴포넌트를 찾아라. <br />
3. `state`가 어디에 위치해야 할지 결정하라. <br />
   - 대개, 공통 부모에 그냥 두긴 한다. <br />
   - 혹은, 공통 부모 상위의 컴포넌트에 둬도 된다. <br />
   - `state`를 소유할 적절한 컴포넌트를 찾지 못했다면, `state`를 소유하는 컴포넌트를 하나 만들어서 상위 계층에 추가해야 한다.

---

## Props 전달하고, 적용

구조 분해 할당으로 적용해도 되지만, 가끔은 "spread" 문법을 사용하는 것이 합리적일 떄도 있다. <br />
다만, 제한적으로 사용해야 한다. <br />
모든 컴포넌트에 "spread" 문법을 사용한다면 문제가 있는 것이다.

### 특징

항상 고정되어 있는 값이 아니라, 모든 시점에 반영한다. <br />
다만, 컴퓨터 과학에서는 "불변성"을 띄고 있다고 한다. <br />
컴포넌트가 `props`를 변경해야 하는 경우에, 부모 컴포넌트에 다른 `props`, 즉 새로운 객체를 전달하도록 "요청"해야 한다. <br />
그러면 이전의 `props`는 버려지고, JS 엔진은 기존 `props`가 차지했던 메모리를 회수한다.

"props 변경"을 시도하지 말라. <br />
선택한 색을 변경하는 등 사용자 입력에 반응해야 하는 경우에는 `state`가 필요할 것이다.
