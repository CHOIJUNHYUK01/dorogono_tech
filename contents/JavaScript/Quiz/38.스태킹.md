# z-index와 콘텍스트 스태킹 방식

CSS에서 `z-index` 속성은 겹치는 요소들의 수직 적층 순서를 제어한다. <br />
`z-index`는 위치 지정된 요소(위치 값이 static이 아닌 요소)와 그 자손 또는 `Flex` 아이템에만 영향을 미친다.

`z-index`값이 없으면, 요소들은 DOM에 나타나는 순서대로 쌓인다. <br />
동일 계층 수준에서 가장 아래에 있는 요소가 위에 나타난다. <br />
비정적 위치 지정(그리고 그 자식들)을 가진 요소는 기본 정적 위치 지정 요소보다 항상 위에 나타난다. <br />
이는 HTML 계층과 관계없이 적용된다.

적층 컨텍스트는 여러 층을 포함하는 요소다. <br />
로컬 적층 컨텍스트 내에서는 그 자식들의 `z-index` 값이 그 요소에 상대적으로 설정된다. <br />
문서의 루트에 상대적으로 설정되지 않는다. <br />
그 컨텍스트 외부의 레이어, 즉 로컬 적층 컨텍스트의 형제 요소들은 그 안의 레이어 사이에 위치할 수 없다. <br />
만약 요소 B가 요소 A 위에 있다면, 요소 A 자식 요소인 C는 B보다 높은 값을 가지더라도, B보다 높게 나타날 수 없다.

각 적층 컨텍스트는 자체적으로 완결된다. <br />
요소의 내용이 쌓인 후, 전체 요소는 부모 적층 컨텍스트의 적층 순서에서 고려된다. <br />
몇 가지 CSS 속성은 새로운 적층 컨텍스트를 유발한다. <br />
예를 들어, `opacity`가 1보다 낮을 때, `filter`가 `none`이 아닐 때, `transform`이 `none`이 아닐 때 등이다. <br />

### 참고

어떤 요소가 적층 컨텍스트를 생성하는지에 대한 자격은 [규칙](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_positioned_layout/Understanding_z-index/Stacking_context#The_stacking_context)에 따른다.
