# DI와 DIP

DI (Dependency Injection), 의존성 주입은 메인 모듈이 "직접" 다른 하위 모듈에 대한 의존성을 주지 않는다. <br />
그렇게 하기 보다는 중간에 의존성 주입자가 이 부분을 가로채 메인 모듈이 "간접"적으로 의존성을 주입한다.

그래서 메인 모듈과 하위 모듈간의 의존성을 느슨하게 만들 수 있다. <br />
모듈을 "쉽게 교체 가능한 구조"로 바꾼다.

## 의존한다. 라는 의미

A가 B에 의존한다. = B가 변하면, A에 영향을 미친다. (A -> B) <br />

## 의존관계역전원칙 (DIP)

의존성 주입을 할 때는 의존관계역전원칙 (Dependency Inversion Principle)이 적용된다. <br />
이는 2가지 규칙을 지키는 상태다.

1. 상위 모듈은 하위 모듈에 의존해서는 안 된다. 둘 다 추상화에 의존해야 한다. <br />
2. 추상화는 세부사항에 의존해서는 안 된다. 세부사항은 추상화에 따라 달라져야 한다.

## 의존성 주입의 장점

1. 외부에서 모듈을 생성해 "main.add(new Module())" 이런 식으로 집어넣는 구조가 되기에 모듈들을 쉽게 교체할 수 있다. <br />
2. 단위 테스팅과 마이그레이션이 쉬워진다. <br />
3. 애플리케이션 의존성 방향이 좀 더 일관되어 코드를 추론하기가 쉬워진다.

## 의존성 주입의 단점

1. 결국에는 모듈이 더 생기게 되므로 복잡도가 증가한다. <br />
2. 종속성 주입 자체가 컴파일을 할 때가 아닌 런타임 때 일어나기에 컴파일을 할 때, 종속성 주입에 관한 에러를 잡기 어려워질 수 있다.
