# 세션 기반 인증 방식

로그인은 세션 기반 인증 방식 또는 토큰 기반 인증 방식으로 구현된다. <br />
HTTP의 특징 중 하나는 "상태가 없다"는 것이다. <br />
즉, HTTP 요청을 통해 데이터를 주고 받을 때, 요청이 끝나면 요청한 사용자의 정보 등을 유지하지 않는다는 것이다.

"이렇기 때문에 로그인 상태를 어떻게 유지하느냐?" 에 대한 의문이 생긴다. <br />
로그인은 이전에 로그인한 상태값이 남아있어야 하기 때문이다. <br />
예를 들어, 로그인을 했는데 또 로그인을 해야 하는 서비스가 있다면, 누구도 그 서비스를 이용하지 않을 거다.

- 세션 : 서버와 클라이언트의 연결이 활성화된 상태를 의미한다. <br />
- 세션 ID : 웹 서버 또는 DB에 저장되는 클라이언트에 대한 유니크한 ID

## 세션 기반 로그인 프로세스

1. 처음 로그인 >> 세션 ID 생성 >> 서버에서 세션 ID를 쿠키로 설정해서 클라이언트에 전달 <br />
2. 클라이언트가 서버에 요청을 보낼 때, 세션 ID를 쿠키로 담아 전에 로그인했던 아이디인지 확인 <br />
3. 로그인을 유지

### 단점

1. 사용자의 상태에 관한 데이터를 서버에 저장했을 때, 로그인 중인 유저의 수가 늘어난다면, 서버의 메모리 과부화가 일어날 수 있다. <br />
2. DB 중 RDBMS에 저장한다면, "직렬화 및 역직렬화"에 관한 오버헤드가 발생한다. <br />
   -> RDBMS는 객체 저장을 하지 못하기 때문이다.

---

보통 세션을 다루는 라이브러리(express-session)을 사용해 세션ID를 생성하면, 쿠키에 해당 값이 설정되게 된다. <br />
이건 일반적인 거다. 물론 쿠키가 아닌 로컬 스토리지 또는 세션 스토리지에 담을 수도 있지만, 관례를 따라 쿠키에 담는다.
